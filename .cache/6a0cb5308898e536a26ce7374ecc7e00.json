{"dependencies":[{"name":"babel-runtime/regenerator"},{"name":"babel-runtime/helpers/asyncToGenerator"},{"name":"babel-runtime/core-js/object/get-prototype-of"},{"name":"babel-runtime/helpers/classCallCheck"},{"name":"babel-runtime/helpers/createClass"},{"name":"babel-runtime/helpers/possibleConstructorReturn"},{"name":"babel-runtime/helpers/inherits"},{"name":"react"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _getPrototypeOf = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (loadComponent) {\n  var placeholder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '正在加载中';\n\n  return function (_Component) {\n    (0, _inherits3.default)(AsyncComponent, _Component);\n\n    function AsyncComponent() {\n      (0, _classCallCheck3.default)(this, AsyncComponent);\n\n      var _this = (0, _possibleConstructorReturn3.default)(this, (AsyncComponent.__proto__ || (0, _getPrototypeOf2.default)(AsyncComponent)).call(this));\n\n      _this.unmount = false;\n\n      _this.state = {\n        Child: null\n      };\n      return _this;\n    }\n\n    (0, _createClass3.default)(AsyncComponent, [{\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.unmount = true;\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function () {\n        var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {\n          var _ref2, Child;\n\n          return _regenerator2.default.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return loadComponent();\n\n                case 2:\n                  _ref2 = _context.sent;\n                  Child = _ref2.default;\n\n                  if (!this.unmount) {\n                    _context.next = 6;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\");\n\n                case 6:\n\n                  this.setState({\n                    Child: Child\n                  });\n\n                case 7:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        function componentDidMount() {\n          return _ref.apply(this, arguments);\n        }\n\n        return componentDidMount;\n      }()\n    }, {\n      key: \"render\",\n      value: function render() {\n        var Child = this.state.Child;\n\n\n        return Child ? _react2.default.createElement(Child, this.props) : placeholder;\n      }\n    }]);\n    return AsyncComponent;\n  }(_react.Component);\n};"},"hash":"3bc942dfa966789949e1aa1d2250e359"}